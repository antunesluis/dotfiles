# Enable True color support
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
set -gq allow-passthrough on

# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1

# Set the prefix key to Ctrl-s
set-option -g prefix C-s
set-option -g prefix2 none

# Reload the tmux configuration file with Ctrl-b r
unbind r
bind r source-file ~/.config/tmux/tmux.conf

# Set | and to split windows vertically
unbind %
bind | split-window -h -c "#{pane_current_path}"

# Set - to split windows horizontally
unbind '"'
bind - split-window -v -c "#{pane_current_path}"

# Set v to enter copy mode for selecting text (vim-like)
unbind v
bind v copy-mode

# resizing panes with hjkl
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5
bind -r h resize-pane -L 5

# maximize panes
bind -r f resize-pane -Z

# mouse support
set -g mouse on

# vim shell navigations and selects in tmux panes
set-window-option -g mode-keys vi
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection

# Drag copy using mouse
unbind -T copy-mode-vi MouseDragEnd1Pane

# tmux plugin manager
set-environment -g TMUX_PLUGIN_MANAGER_PATH ~/.config/tmux/plugins
set -g @plugin 'tmux-plugins/tpm' # must be the first plugin

# Utility plugins
set -g @plugin "christoomey/vim-tmux-navigator"
set -g @plugin 'omerxx/tmux-sessionx' # default keybind "<prefix> O" to activate
set -g @plugin "tmux-plugins/tmux-resurrect" #persist tmux sessions after computer restart
set -g @plugin "tmux-plugins/tmux-continuum" #automatically save sessions every b5mins

set -g @plugin 'niksingh710/minimal-tmux-status'

run '~/.config/tmux/plugins/tpm/tpm'
